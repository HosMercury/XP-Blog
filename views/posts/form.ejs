<ul class="errors"></ul>
<form action="/posts" method="POST" id="post-form">
  <!-- id -->
  <input type="hidden" name="id" value="<%=post.id%>" />
  <!-- Title  -->
  Title :<input
    name="title"
    type="text"
    class="title"
    value="<%= post.title %>"
  />
  <!-- textarea -->
  Content :<textarea name="content" class="content">
<%= post.content %>
</textarea
  >
  <input type="submit" class="submit" value="submit" />
</form>

<script>
  $(document).ready(function () {
    let err = [];
    $('.submit').prop('disabled', true);

    $('.title').blur(e => {
      if (e.target.value.length < 4) err[0] = 'Title should be more than 4';
      if (e.target.value.length > 200)
        err[0] = 'Title should not exceed 200 letters';
      else if (e.target.value.length > 4) err.splice(0, 1);
    });

    $('.content').blur(e => {
      if (e.target.value.length < 10) err[1] = 'Content should be more than 10';
      if (e.target.value.length > 5000)
        err[1] = 'Content should not exceed 5000 letters';
      else if (e.target.value.length > 10) err.splice(1, 1);
    });

    const errors = () => {
      if (err.length < 1) $('.submit').removeAttr('disabled');

      $('.errors').empty();
      err.forEach(er => {
        if (er !== null) $('.errors').append('<li>' + er + '</li>');
      });
    };
  });
</script>
